(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b23ab7c"],{2017:function(e,t,r){"use strict";r("cafe")},4127:function(e,t,r){"use strict";var s=r("d233"),n=r("b313"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,a=Array.prototype.push,l=function(e,t){a.apply(e,o(t)?t:[t])},c=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:s.encode,encodeValuesOnly:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,r,n,i,a,c,p,d,f,y,h,b){var g=t;if("function"===typeof p?g=p(r,g):g instanceof Date&&(g=y(g)),null===g){if(i)return c&&!b?c(r,u.encoder):r;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||s.isBuffer(g)){if(c){var m=b?r:c(r,u.encoder);return[h(m)+"="+h(c(g,u.encoder))]}return[h(r)+"="+h(String(g))]}var w,v=[];if("undefined"===typeof g)return v;if(o(p))w=p;else{var S=Object.keys(g);w=d?S.sort(d):S}for(var Q=0;Q<w.length;++Q){var O=w[Q];a&&null===g[O]||(o(g)?l(v,e(g[O],n(r,O),n,i,a,c,p,d,f,y,h,b)):l(v,e(g[O],r+(f?"."+O:"["+O+"]"),n,i,a,c,p,d,f,y,h,b)))}return v};e.exports=function(e,t){var r=e,a=t?s.assign({},t):{};if(null!==a.encoder&&"undefined"!==typeof a.encoder&&"function"!==typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof a.delimiter?u.delimiter:a.delimiter,d="boolean"===typeof a.strictNullHandling?a.strictNullHandling:u.strictNullHandling,f="boolean"===typeof a.skipNulls?a.skipNulls:u.skipNulls,y="boolean"===typeof a.encode?a.encode:u.encode,h="function"===typeof a.encoder?a.encoder:u.encoder,b="function"===typeof a.sort?a.sort:null,g="undefined"!==typeof a.allowDots&&a.allowDots,m="function"===typeof a.serializeDate?a.serializeDate:u.serializeDate,w="boolean"===typeof a.encodeValuesOnly?a.encodeValuesOnly:u.encodeValuesOnly;if("undefined"===typeof a.format)a.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,a.format))throw new TypeError("Unknown format option provided.");var v,S,Q=n.formatters[a.format];"function"===typeof a.filter?(S=a.filter,r=S("",r)):o(a.filter)&&(S=a.filter,v=S);var O,A=[];if("object"!==typeof r||null===r)return"";O=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var j=i[O];v||(v=Object.keys(r)),b&&v.sort(b);for(var k=0;k<v.length;++k){var x=v[k];f&&null===r[x]||l(A,p(r[x],x,j,d,f,y?h:null,S,b,g,m,Q,w))}var C=A.join(c),I=!0===a.addQueryPrefix?"?":"";return C.length>0?I+C:""}},4328:function(e,t,r){"use strict";var s=r("4127"),n=r("9e6a"),i=r("b313");e.exports={formats:i,parse:n,stringify:s}},"9e6a":function(e,t,r){"use strict";var s=r("d233"),n=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:s.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var r={},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=s.split(t.delimiter,o),l=0;l<a.length;++l){var c,u,p=a[l],d=p.indexOf("]="),f=-1===d?p.indexOf("="):d+1;-1===f?(c=t.decoder(p,i.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,f),i.decoder),u=t.decoder(p.slice(f+1),i.decoder)),n.call(r,c)?r[c]=[].concat(r[c]).concat(u):r[c]=u}return r},a=function(e,t,r){for(var s=t,n=e.length-1;n>=0;--n){var i,o=e[n];if("[]"===o&&r.parseArrays)i=[].concat(s);else{i=r.plainObjects?Object.create(null):{};var a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(a,10);r.parseArrays||""!==a?!isNaN(l)&&o!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(i=[],i[l]=s):"__proto__"!==a&&(i[a]=s):i={0:s}}s=i}return s},l=function(e,t,r){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=i.exec(s),c=l?s.slice(0,l.index):s,u=[];if(c){if(!r.plainObjects&&n.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}var p=0;while(null!==(l=o.exec(s))&&p<r.depth){if(p+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+s.slice(l.index)+"]"),a(u,t,r)}};e.exports=function(e,t){var r=t?s.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||s.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"===typeof r.depth?r.depth:i.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?o(e,r):e,a=r.plainObjects?Object.create(null):{},c=Object.keys(n),u=0;u<c.length;++u){var p=c[u],d=l(p,n[p],r);a=s.merge(a,d,r)}return s.compact(a)}},"9ed6":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("div",{staticClass:"login-module"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("img",{staticStyle:{"border-top-left-radius":"8px","border-bottom-left-radius":"8px"},attrs:{src:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/400/h/400",alt:"",srcset:"",width:"400px",height:"400px"}})]),r("el-col",{attrs:{span:12}},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[r("div",{staticClass:"title-container"},[r("div",{staticClass:"title"},[e._v("Welcome Back!")])]),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container",attrs:{span:""}},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),r("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("Sign in")]),r("div",{staticClass:"tips"},[r("span",{staticStyle:{"margin-right":"20px"}},[e._v("username: admin")]),r("span",[e._v(" password: any")])])],1)],1)],1)],1),r("el-dialog",{attrs:{title:"Please fill in security questions",visible:e.centerDialogVisibleFill,width:"30%"},on:{"update:visible":function(t){e.centerDialogVisibleFill=t}}},[r("h4",[e._v("The first security question")]),r("el-select",{staticClass:"securityQuestions",attrs:{filterable:"",placeholder:"Please select"},on:{change:e.selectChange},model:{value:e.firstSecurityQuestionsSelect,callback:function(t){e.firstSecurityQuestionsSelect=t},expression:"firstSecurityQuestionsSelect"}},e._l(e.allOptions,(function(e){return r("el-option",{key:e.question,attrs:{disabled:e.disabled,label:e.question,value:e.question}})})),1),r("el-input",{staticClass:"securityQuestions",attrs:{placeholder:"Please enter"},model:{value:e.firstSecurityQuestionsInput,callback:function(t){e.firstSecurityQuestionsInput=t},expression:"firstSecurityQuestionsInput"}}),r("h4",[e._v("The second security question")]),r("el-select",{staticClass:"securityQuestions",attrs:{filterable:"",placeholder:"Please select"},on:{change:e.selectChange},model:{value:e.secondSecurityQuestionsSelect,callback:function(t){e.secondSecurityQuestionsSelect=t},expression:"secondSecurityQuestionsSelect"}},e._l(e.allOptions,(function(e){return r("el-option",{key:e.question,attrs:{disabled:e.disabled,label:e.question,value:e.question}})})),1),r("el-input",{staticClass:"securityQuestions",attrs:{placeholder:"Please enter"},model:{value:e.secondSecurityQuestionsInput,callback:function(t){e.secondSecurityQuestionsInput=t},expression:"secondSecurityQuestionsInput"}}),r("h4",[e._v("The third security question")]),r("el-select",{staticClass:"securityQuestions",attrs:{filterable:"",placeholder:"Please select"},on:{change:e.selectChange},model:{value:e.thirdSecurityQuestionsSelect,callback:function(t){e.thirdSecurityQuestionsSelect=t},expression:"thirdSecurityQuestionsSelect"}},e._l(e.allOptions,(function(e){return r("el-option",{key:e.question,attrs:{disabled:e.disabled,label:e.question,value:e.question}})})),1),r("el-input",{staticClass:"securityQuestions",attrs:{placeholder:"Please enter"},model:{value:e.thirdSecurityQuestionsInput,callback:function(t){e.thirdSecurityQuestionsInput=t},expression:"thirdSecurityQuestionsInput"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.centerDialogVisibleFill=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:e.centerDialogVisibleFillClick}},[e._v("Submit")])],1)],1),r("el-dialog",{attrs:{title:"Please answer security questions",visible:e.centerDialogVisibleAnswer,width:"30%"},on:{"update:visible":function(t){e.centerDialogVisibleAnswer=t}}},[r("el-select",{staticClass:"securityQuestions",attrs:{filterable:"",placeholder:"Please select"},model:{value:e.securityQuestionsAnswerSelect,callback:function(t){e.securityQuestionsAnswerSelect=t},expression:"securityQuestionsAnswerSelect"}},e._l(e.answerOptions,(function(e){return r("el-option",{key:e.questionAnswer,attrs:{label:e.question,value:e.questionAnswer}})})),1),r("el-input",{staticClass:"securityQuestions",attrs:{placeholder:"Please enter"},model:{value:e.securityQuestionsAnswerInput,callback:function(t){e.securityQuestionsAnswerInput=t},expression:"securityQuestionsAnswerInput"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.centerDialogVisibleAnswer=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:e.centerDialogVisibleAnswerClick}},[e._v("Submit")])],1)],1)],1)},n=[],i=(r("d3b7"),r("159b"),r("ac1f"),r("1276"),r("c24f")),o=(r("4328"),{name:"Login",data:function(){var e=function(e,t,r){t.length<6?r(new Error("The password can not be less than 6 digits")):r()};return{userId:"",answerIndex:0,centerDialogVisibleFill:!1,centerDialogVisibleAnswer:!1,firstSecurityQuestionsSelect:"",firstSecurityQuestionsInput:"",secondSecurityQuestionsSelect:"",secondSecurityQuestionsInput:"",thirdSecurityQuestionsSelect:"",thirdSecurityQuestionsInput:"",securityQuestionsAnswerSelect:"",securityQuestionsAnswerInput:"",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:e}]},loading:!1,passwordType:"password",redirect:void 0,allOptions:[],answerOptions:[]}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},methods:{selectChange:function(e){var t=this;this.allOptions.forEach((function(e){e.disabled=!1,t.firstSecurityQuestionsSelect==e.question&&(e.disabled=!0),t.secondSecurityQuestionsSelect==e.question&&(e.disabled=!0),t.thirdSecurityQuestionsSelect==e.question&&(e.disabled=!0)}))},allQuestions:function(){var e=this,t={};Object(i["b"])(t).then((function(t){e.allOptions=t})).catch((function(e){console.log(e)}))},submitQuestions:function(){var e=this,t=this.$store.state.user.userId,r=[{Question:this.firstSecurityQuestionsSelect,Answer:this.firstSecurityQuestionsInput,UserID:t},{Question:this.secondSecurityQuestionsSelect,Answer:this.secondSecurityQuestionsInput,UserID:t},{Question:this.thirdSecurityQuestionsSelect,Answer:this.thirdSecurityQuestionsInput,UserID:t}];r.forEach((function(t,r){Object(i["g"])(t).then((function(t){2==r&&(e.centerDialogVisibleFill=!1,e.$router.push({path:e.redirect||"/"}),e.$message({message:t.msg,type:"success"}))})).catch((function(e){console.log(e)}))}))},answerQuestions:function(){var e=this,t={UserID:this.$store.state.user.userId};Object(i["c"])(t).then((function(t){t.forEach((function(e,t){e.questionAnswer=e.questionId+"|"+e.answer})),e.answerOptions=t,e.securityQuestionsAnswerSelect=t[e.answerIndex].questionAnswer})).catch((function(e){}))},addStaff:function(){var e={};Object(i["a"])({params:e}).then((function(e){console.log(e)})).catch((function(e){}))},centerDialogVisibleFillClick:function(){this.submitQuestions()},centerDialogVisibleAnswerClick:function(){var e=this.securityQuestionsAnswerSelect.split("|");e[1]==this.securityQuestionsAnswerInput?(this.answerIndex=0,this.$router.push("/")):(this.securityQuestionsAnswerInput="",this.answerIndex++,this.answerIndex<this.answerOptions.length?(this.securityQuestionsAnswerSelect=this.answerOptions[this.answerIndex].questionAnswer,this.$message({message:"login error",type:"warning"})):this.$message({message:"All security questions answered incorrectly, your account has been locked",type:"warning"}))},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this,t=this;this.$refs.loginForm.validate((function(r){if(!r)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(r){t.$store.dispatch("user/getInfo",{userName:t.loginForm.username}).then((function(s){t.$nextTick((function(){t.userId=t.$store.state.user.userId}));var n=r.isFirst;"false"==n?(e.answerQuestions(),e.centerDialogVisibleAnswer=!0):"true"==n&&(e.allQuestions(),e.centerDialogVisibleFill=!0),e.loading=!1}))})).catch((function(){e.loading=!1}))}))}}}),a=o,l=(r("2017"),r("bb38"),r("2877")),c=Object(l["a"])(a,s,n,!1,null,"595dc726",null);t["default"]=c.exports},b313:function(e,t,r){"use strict";var s=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return s.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},bb38:function(e,t,r){"use strict";r("d9e4")},cafe:function(e,t,r){},d233:function(e,t,r){"use strict";var s=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e){var t;while(e.length){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var s=[],n=0;n<t.length;++n)"undefined"!==typeof t[n]&&s.push(t[n]);r.obj[r.prop]=s}}return t},o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)"undefined"!==typeof e[s]&&(r[s]=e[s]);return r},a=function e(t,r,n){if(!r)return t;if("object"!==typeof r){if(Array.isArray(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!s.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var i=t;return Array.isArray(t)&&!Array.isArray(r)&&(i=o(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,i){if(s.call(t,i)){var o=t[i];o&&"object"===typeof o&&r&&"object"===typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var o=r[i];return s.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t}),i)},l=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},c=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},u=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",s=0;s<t.length;++s){var i=t.charCodeAt(s);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(s):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(s+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(s)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},p=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],s=0;s<t.length;++s)for(var n=t[s],o=n.obj[n.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];"object"===typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:c}),r.push(u))}return i(t)},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},f=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:o,assign:l,compact:p,decode:c,encode:u,isBuffer:f,isRegExp:d,merge:a}},d9e4:function(e,t,r){}}]);